<link href="/js/plugins/jsTree/jstree_style.min.css" rel="stylesheet">
<link href="/js/plugins/sweetalert/sweetalert.css" rel="stylesheet">
<link href="/js/plugins/dropzone/dropzone.css" rel="stylesheet">
<link href="/css/plugins/switchery/switchery.css" rel="stylesheet">

<h2 class=" border-bottom white-bg dashboard-header">Контрагенти</h2>

<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-md-3 col-md-push-9">

            <div class="ibox">
                <div class="ibox-title">
                    <h5>Категорії контрагентів</h5>
                </div>
                <div class="ibox-content"><span>
                <input type="hidden" id="flClientCategoryTree_id" value="clients_category_id">
				<input type="text" readonly class="form-control" id="flClientCategoryTree_result" placeholder="Обрана категорія"><br>
                	<div class="full-height-scroll">
                        <div id="flClientCategoryTree">
                            <ul>
                                {client_category_tree}
                            </ul>
                        </div>
                    </div>
				</span></div>
            </div>

        </div>
        <div class="col-md-9 col-md-pull-3">
            <div class="ibox">
                <div class="ibox-title">
                    <div class="row">
                        <div class="col-md-6"><a class="btn btn-success"  href="#newClient" onClick="newClientCard();"><i class='fa fa-plus'></i> Новий контрагент</a></div>
                        <div class="col-md-6 text-right"><a class="btn btn-info collapsed" aria-expanded="false" data-toggle="collapse" data-parent="#accordion" href="#collapseSearch"><i class='fa fa-search'></i> Пошук у реєстрі</a></div>
	                </div>
                </div>
                <div class="ibox-content">
                	 <div aria-expanded="false" id="collapseSearch" class="panel-collapse collapse">
                    	<h3 align="center">Пошук записів за параметрами</h3>
                        <form method="get" id="clientsSearch" onSubmit="filterClientsList(); return false;">
                        <div class="row">
                        	<div class="col-md-4">
                        		<div class="row">
                                    <div class="col-md-3 text-right"><strong>Код клієнта</strong></div>
                                    <div class="col-md-9"><input class="form-control" name="filClientId" id="filClientId" placeholder="id клієнта" value="{filClientId}"></div>
                                </div><br>
                                <div class="row">
                                    <div class="col-md-3 text-right"><strong>Найменування</strong></div>
                                    <div class="col-md-9"><input class="form-control" name="filClientName" id="filClientName" placeholder="Повна або часткова назва" value="{filClientName}"></div>
                                </div>
                            </div>
                            <div class="col-md-4">
	                            <div class="row">
                                    <div class="col-md-3 text-right"><strong>Номер телефона</strong></div>
									<div class="col-md-9"><input class="form-control" name="filPhone" id="filPhone" placeholder="" value="{filPhone}"></div>
                                </div><br>
                                <div class="row">
                                    <div class="col-md-3 text-right"><strong>Email</strong></div>
                                    <div class="col-md-9"><input class="form-control" name="filEmail" id="filEmail" placeholder="" value="{filEmail}"></div>
                                </div><br>
                                
                            </div>
                            <div class="col-md-4">
								<div class="row">
                                    <div class="col-md-3 text-right"><strong>Область</strong></div>
                                    <div class="col-md-9"><select class="form-control" size="1" id="filState"><option value="0">-- -- --</option>{state_list}</select></div>
                                </div><br>
                                <div class="row">
	                                <div class="col-md-3"></div>
                                    <div class="col-md-5"><button class="form-control btn btn-success"><i class='fa fa-search'></i> Пошук</button></div>
                                    <div class="col-md-4"><a onClick="ClearClientSearch();" class="btn btn-info"><i class='fa fa-eraser'></i></a></div>
                                </div>
                            </div>
                        </div>
                        </form>
					</div>
                    <div class="table-responsive">
                        <table  id="datatable" class="table table-striped table-hover table-bordered" width="100%">
                            <thead>
                                <tr align="center">
                                    <th>Код</th>
                                    <th>Орг.форма</th>
                                    <th>Найменування</th>
                                    <th>Країна</th>
                                    <th>Область</th>
                                    <th>Район</th>
                                    <th>Нас.Пункт</th>
                                    <th>Email</th>
                                    <th>Телефон</th>
                                </tr>
                            </thead>
                            <tbody id="clients_range">
							{clients_range}
                            </tbody>
                            <tfoot>
                                <tr align="center">
                                    <th>Код</th>
                                    <th>Орг.форма</th>
                                    <th>Найменування</th>
                                    <th>Країна</th>
                                    <th>Область</th>
                                    <th>Район</th>
                                    <th>Нас.Пункт</th>
                                    <th>Email</th>
                                    <th>Телефон</th>
                                </tr>
                            </tfoot>
						</table>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<div id="ClientEmpty" class="modal inmodal fade" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-wide">
        <div class="modal-content">
			<div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button>
                <h3 id="myModalLabel text-left">Не заповнені клієнти <span id="ClientEmptyLabel"></span></h3>
				<h4>Виберіть існуючого пустого клієнта зі списку для створення контрагента:</h4>
            </div>
			
            <div class="modal-body" id="ClientEmptyBody">
				
	        </div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Закрити</button>
		    </div>
        </div>
    </div>
</div>

<div id="ClientCard" class="modal inmodal fade" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-wide">
        <div class="modal-content">
			<div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button>
                <h3 id="myModalLabel text-left">Карта контрагента <span id="ClientCardLabel"></span></h3>
            </div>
            <div class="modal-body" id="ClientCardBody">
	        </div>
        </div>
    </div>
</div>

<div id="ClientConditionsHistory" class="modal inmodal fade" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-wide">
        <div class="modal-content">
			<div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button>
                <h3 id="myModalLabel text-left">Історія змін умов контрагента <span id="ClientConditionsHistoryLabel"></span></h3>
            </div>
            <div class="modal-body" id="ClientConditionsHistoryBody">
	        </div>
        </div>
    </div>
</div>

<div id="fileUploadForm2" class="modal inmodal fade" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-wide">
        <div class="modal-content">
			<div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button>
                <h3 id="myModalLabel text-left">Карта контрагента</h3>
            </div>
            <div class="modal-body" id="ClientFilesBody">
                 <div class="sk-spinner sk-spinner-wave"><div class="sk-rect1"></div><div class="sk-rect2"></div><div class="sk-rect3"></div><div class="sk-rect4"></div><div class="sk-rect5"></div></div>
	        </div>
        </div>
    </div>
</div>

<div style="display: none;" class="modal inmodal fade fileClientsCDNUploadForm" id="fileClientsCDNUploadForm" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Х</button>
                <h4 class="modal-title" id="myModalLabel">Завантаження файлів</h4>
            </div>
            <div class="modal-body" id="fileViewHolderDoc">
                <p>Для завантаження файлів натисніть на форму або перетягніть файли у поле форми</p>
                <form action="/cdn_file_upload.php" class="dropzone" id="myDropzone2">
                    <input type="hidden" name="cdn_client_id" id="cdn_client_id" value="">
                </form>
            </div>
        </div>
    </div>
</div>
<div id="viewDetailsForm" class="modal inmodal fade viewDetailsForm" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
			<div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button>
                <h3 id="myModalLabel text-left">Перегляд файлу</h3>
            </div>
            <div class="modal-body" id="viewClientDetailsFileBody">
	            <div class="row"><div class="col-lg-12 animated fadeInRight">
                	<span id="client_details_files_place">
                        <div class="sk-spinner sk-spinner-wave">
                            <div class="sk-rect1"></div><div class="sk-rect2"></div><div class="sk-rect3"></div><div class="sk-rect4"></div><div class="sk-rect5"></div>
                        </div>
                    </span>
                </div></div>
	        </div>
        </div>
    </div>
</div>
<div style="display: none;" class="modal inmodal fade fileClientsDetailsUploadForm" id="fileClientsDetailsUploadForm" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Х</button>
                <h4 class="modal-title" id="myModalLabel">Завантаження файлів</h4>
            </div>
            <div class="modal-body" id="fileViewHolderDoc">
                <p>Для завантаження файлів натисніть на форму або перетягніть файли у поле форми</p>
                <form action="/cdn_file_upload.php" class="dropzone" id="myDropzone3">
                    <input type="hidden" name="dtls_client_id" id="dtls_client_id" value="">
                    <input type="hidden" name="dtls_file_type" id="dtls_file_type" value="">
                </form>
            </div>
        </div>
    </div>
</div>

<div style="display: none;" id="CountryModalWindow" class="modal fade CountryModalWindow" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
			<div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button>
                <h3 id="myModalLabel text-left">Довідник країн походження</h3>
            </div>
            <div class="modal-body" id="CountryBody">
                <div class="sk-spinner sk-spinner-cube-grid"><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div></div>
	        </div>
        </div>
    </div>
</div>
<div style="display: none;" id="CostumsModalWindow" class="modal fade CostumsModalWindow" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
			<div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button>
                <h3 id="myModalLabel text-left">Довідник митних кодів</h3>
            </div>
            <div class="modal-body" id="CostumsBody">
                <div class="sk-spinner sk-spinner-cube-grid"><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div><div class="sk-cube"></div></div>
	        </div>
        </div>
    </div>
</div>
<div style="display: none;" id="FormModalWindow" class="modal fade FormModalWindow" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
			<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button><h3 id="FormModalLabel" class="text-left"></h3></div>
            <div class="modal-body" id="FormModalBody"></div>
        </div>
    </div>
</div>
<div style="display: none;" id="FormModalWindow2" class="modal fade FormModalWindow2" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
			<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button><h3 id="FormModalLabel2" class="text-left"></h3></div>
            <div class="modal-body" id="FormModalBody2"></div>
        </div>
    </div>
</div>
<div style="display: none;" id="FormModalWindow3" class="modal fade FormModalWindow3" tabindex="-1" role="dialog" data-keyboard="false" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
			<div class="modal-header"><h3 id="FormModalLabel3" class="text-left"></h3></div>
            <div class="modal-body" id="FormModalBody3"></div>
        </div>
    </div>
</div>
<script type="text/javascript" src="/js/plugins/barcode-generator/jquery-barcode.js"></script>
<!-- Bootstrap markdown -->
<script src="/js/plugins/bootstrap-markdown/bootstrap-markdown.js"></script>
<script src="/js/plugins/bootstrap-markdown/markdown.js"></script>
<script src="/vendors/jquery/generate-password.js"></script>
<script src="/js/plugins/select2/js/select2.full.min.js"></script>
<script src="/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script src="/js/plugins/dropzone/dropzone.js"></script>
<script src="/js/plugins/switchery/switchery.js"></script>
<script src="/js/clients/clients.js?201705301435"></script>
<script language="javascript">
$(document).ready(function() {
	$('#datatable').DataTable({keys: true,"aaSorting": [],"processing": true,"scrollX": true,fixedColumns: {leftColumns: 2},"searching": true,fixedHeader: true,"lengthMenu": [[20, 50, 100, -1], [20, 50, 100, "All"]], "language": {"url": "//cdn.datatables.net/plug-ins/1.10.12/i18n/Ukrainian.json"}});
});
</script>
<script type="text/javascript">
//Disabling autoDiscover
Dropzone.autoDiscover = false;
</script>
<script src="/js/plugins/jsTree/jstree.min.js"></script>
<style>.jstree-open > .jstree-anchor > .fa-folder:before {content: "\f07c";}.jstree-default .jstree-icon.none {width: 0;}</style>
<!-- Sweet alert -->
<script src="/js/plugins/sweetalert/sweetalert.min.js"></script>