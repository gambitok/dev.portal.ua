<link href="/js/plugins/jsTree/jstree_style.min.css" rel="stylesheet">
<link href="/js/plugins/sweetalert/sweetalert.css" rel="stylesheet">
<link href="/js/plugins/dropzone/dropzone.css" rel="stylesheet">
<link href="/css/plugins/switchery/switchery.css" rel="stylesheet">

<h2 class="border-bottom white-bg dashboard-header">Каса</h2>

<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox">

                <div class="ibox-title">
                    {cb_register_range}
                    <button class="btn btn-info" onclick="saveCbTpoint();">Привязати торгову точку</button>
                </div>

                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item active">
                        <a class="nav-link active" id="shift-tab" data-toggle="tab" href="#shift" role="tab" aria-controls="shift-tab" aria-selected="true">Робочі зміни</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="check-tab" data-toggle="tab" href="#check" role="tab" aria-controls="check-tab" aria-selected="false">Архів чеків</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="settings-tab" data-toggle="tab" href="#settings" role="tab" aria-controls="settings-tab" aria-selected="false">Налаштування</a>
                    </li>
                </ul>

                <div class="tab-content" id="myTabContent">

                    <div class="tab-pane active" id="shift" role="tabpanel" aria-labelledby="shift-tab">
                        <div class="ibox-content">
                            <div class="table-responsive">
                                <table id="datatable" class="table table-striped table-hover table-bordered" width="100%">
                                    <thead>
                                        <tr align="center">
                                            <th>ID</th>
                                            <th>Статус</th>
                                            <th>ТТ</th>
                                            <th>Адреса</th>
                                            <th>Касир</th>
                                            <th>Номер зміни</th>
                                            <th>Каса</th>
                                            <th>Відкриття</th>
                                            <th>Закриття</th>
                                        </tr>
                                    </thead>
                                    <tbody id="cb_shift_range">
                                        {cb_shift_range}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane" id="check" role="tabpanel" aria-labelledby="check-tab">
                        <div class="ibox-content">
                            <div class="table-responsive">
                                <table id="datatable2" class="table table-striped table-hover table-bordered" width="100%">
                                    <thead>
                                        <tr align="center">
                                            <th>ID</th>
                                            <th>Тип</th>
                                            <th>Спосіб оплати</th>
                                            <th>Дата / час</th>
                                            <th>Фіскальний номер</th>
                                            <th>Номер зміни</th>
                                            <th>Сума</th>
                                        </tr>
                                    </thead>
                                    <tbody id="cb_check_range">
                                        {cb_check_range}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane" id="settings" role="tabpanel" aria-labelledby="settings-tab">
                        <div class="ibox-content">

                            <ul class="nav nav-tabs" id="myTab2" role="tablist">
                                <li class="nav-item active">
                                    <a class="nav-link active" id="set-tp-tab" data-toggle="tab" href="#set-tp" role="tab" aria-controls="set-tp-tab" aria-selected="true">Торгові точки</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="set-cashbox-tab" data-toggle="tab" href="#set-cashbox" role="tab" aria-controls="set-cashbox-tab" aria-selected="false">Каси</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="set-cashier-tab" data-toggle="tab" href="#set-cashier" role="tab" aria-controls="set-cashier-tab" aria-selected="false">Касири</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="set-invoice-tab" data-toggle="tab" href="#set-invoice" role="tab" aria-controls="set-invoice-tab" aria-selected="false">Чеки в накладних</a>
                                </li>
                            </ul>

                            <div class="tab-content" id="myTabContent2">
                                <div class="tab-pane active" id="set-tp" role="tabpanel" aria-labelledby="set-tp-tab">
                                    <div class="ibox-content">
                                        <div class="table-responsive">
                                            <table id="datatable3" class="table table-striped table-hover table-bordered" width="100%">
                                                <thead>
                                                    <tr align="center">
                                                        <th>ID</th>
                                                        <th>Клієнт</th>
                                                        <th>ТТ</th>
                                                        <th>Найменування</th>
                                                        <th>Сервер</th>
                                                        <th>Логін</th>
                                                        <th>Пароль</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="cb_prro_main_range">
                                                    {cb_prro_main_range}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane" id="set-cashbox" role="tabpanel" aria-labelledby="set-cashbox-tab">
                                    <div class="ibox-content">
                                        <div class="table-responsive">
                                            <table id="datatable4" class="table table-striped table-hover table-bordered" width="100%">
                                                <thead>
                                                    <tr align="center">
                                                        <th>ID</th>
                                                        <th>PRRO ID</th>
                                                        <th>Найменування</th>
                                                        <th>Номер</th>
                                                        <th>Фіскальний номер</th>
                                                        <th>Ліцензійний ключ</th>
                                                        <th>Кількість</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="cb_prro_cashbox_range">
                                                    {cb_prro_cashbox_range}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane" id="set-cashier" role="tabpanel" aria-labelledby="set-cashier-tab">
                                    <div class="ibox-content">
                                        <div class="table-responsive">
                                            <table id="datatable5" class="table table-striped table-hover table-bordered" width="100%">
                                                <thead>
                                                    <tr align="center">
                                                        <th>ID</th>
                                                        <th>PRRO CB ID</th>
                                                        <th>Користувач</th>
                                                        <th>Найменування</th>
                                                        <th>ID KEY</th>
                                                        <th>Пінкод</th>
                                                        <th>Логін</th>
                                                        <th>Пароль</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="cb_prro_cashier_range">
                                                    {cb_prro_cashier_range}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane" id="set-invoice" role="tabpanel" aria-labelledby="set-invoice-tab">
                                    <div class="ibox-content">
                                        <div class="table-responsive">
                                            <table id="datatable6" class="table table-striped table-hover table-bordered" width="100%">
                                                <thead>
                                                    <tr align="center">
                                                        <th>ID</th>
                                                        <th>CHECK ID</th>
                                                        <th>Накладна</th>
                                                        <th>Тип</th>
                                                        <th>Оплата</th>
                                                        <th>Фіксальний номер</th>
                                                        <th>Номер</th>
                                                        <th>Дата</th>
                                                        <th>Сума</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="cb_prro_invoice_range">
                                                    {cb_prro_invoice_range}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>

                </div>

            </div>

        </div>
    </div>
</div>

<div id="PayboxCard" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-wide">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button>
                <h3 id="myModalLabel text-left">Каса <span id="PayboxCardLabel"></span></h3>
            </div>
            <div class="modal-body" id="PayboxCardBody">
            </div>
        </div>
    </div>
</div>

<div id="ServiceModal" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-wide" style="width: 500px; display: block; margin: 30px auto;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button>
                <h3>Внесення / винесення суми <span id="ServiceModalLabel"></span></h3>
            </div>
            <div class="modal-body" id="ServiceModalBody">
                <input type="hidden" id="service_prro_id">
                <input type="hidden" id="service_doc_type_id">
                <input type="radio" name="payment_type_id" id="payment_type_1" value="1" checked>
                <label for="payment_type_1">Готівка</label><br>
                <input type="radio" name="payment_type_id" id="payment_type_2" value="2">
                <label for="payment_type_2">Картка</label><br>
                <hr>
                <label for="service_sum">Введіть суму</label>
                <input type="text" id="service_sum" value="0" class="form-control"><br><br>
                <button class="btn btn-info" onclick="createServiceReceipt();">Зберегти</button>
                <button class="btn btn-white" type="button" data-dismiss="modal">Закрити</button>
            </div>
        </div>
    </div>
</div>

<div id="XOrderModal" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-wide" style="width: 500px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button>
                <h3>Каса <span id="XOrderModalLabel"></span></h3>
            </div>
            <div class="modal-body">
                <pre id="XOrderBody" style="text-align: center;"></pre>
            </div>
        </div>
    </div>
</div>

<div style="display: none;" id="FormModalWindow" class="modal fade FormModalWindow" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">х</button><h3 id="FormModalLabel" class="text-left"></h3></div>
            <div class="modal-body" id="FormModalBody"></div>
        </div>
    </div>
</div>

<script type="text/javascript" src="/js/plugins/barcode-generator/jquery-barcode.js"></script>
<!-- Bootstrap markdown -->
<script src="/js/plugins/bootstrap-markdown/bootstrap-markdown.js"></script>
<script src="/js/plugins/bootstrap-markdown/markdown.js"></script>
<script src="/vendors/jquery/generate-password.js"></script>
<script src="/js/plugins/select2/js/select2.full.min.js"></script>
<script src="/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script src="/js/plugins/dropzone/dropzone.js"></script>
<script src="/js/plugins/switchery/switchery.js"></script>
<script src="https://rawgit.com/RobinHerbots/jquery.inputmask/3.x/dist/jquery.inputmask.bundle.js"></script>
<script src="/js/plugins/currency/currency.js"></script>

<script src="/js/paybox/paybox.js?201805151435"></script>
<script language="javascript">
    $(document).ready(function() {
        $("#datatable").DataTable({keys: true,"aaSorting": [],"processing": true,"scrollX": true,fixedColumns: {leftColumns: 2},"searching": false,fixedHeader: true,"lengthMenu": [[20, 50, 100, -1], [20, 50, 100, "All"]], "language": {"url": "//cdn.datatables.net/plug-ins/1.10.12/i18n/Russian.json"}});
        $("#datatable2").DataTable({keys: true,"aaSorting": [],"processing": true,"scrollX": true,fixedColumns: {leftColumns: 2},"searching": false,fixedHeader: true,"lengthMenu": [[20, 50, 100, -1], [20, 50, 100, "All"]], "language": {"url": "//cdn.datatables.net/plug-ins/1.10.12/i18n/Russian.json"}});
        $("#datatable3").DataTable({keys: true,"aaSorting": [],"processing": true,"scrollX": true,fixedColumns: {leftColumns: 2},"searching": false,fixedHeader: true,"lengthMenu": [[20, 50, 100, -1], [20, 50, 100, "All"]], "language": {"url": "//cdn.datatables.net/plug-ins/1.10.12/i18n/Russian.json"}});
        $("#datatable4").DataTable({keys: true,"aaSorting": [],"processing": true,"scrollX": true,fixedColumns: {leftColumns: 2},"searching": false,fixedHeader: true,"lengthMenu": [[20, 50, 100, -1], [20, 50, 100, "All"]], "language": {"url": "//cdn.datatables.net/plug-ins/1.10.12/i18n/Russian.json"}});
        $("#datatable5").DataTable({keys: true,"aaSorting": [],"processing": true,"scrollX": true,fixedColumns: {leftColumns: 2},"searching": false,fixedHeader: true,"lengthMenu": [[20, 50, 100, -1], [20, 50, 100, "All"]], "language": {"url": "//cdn.datatables.net/plug-ins/1.10.12/i18n/Russian.json"}});
        $("#datatable6").DataTable({keys: true,"aaSorting": [],"processing": true,"scrollX": true,fixedColumns: {leftColumns: 2},"searching": false,fixedHeader: true,"lengthMenu": [[20, 50, 100, -1], [20, 50, 100, "All"]], "language": {"url": "//cdn.datatables.net/plug-ins/1.10.12/i18n/Russian.json"}});
    });
</script>
<script type="text/javascript">
    //Disabling autoDiscover
    Dropzone.autoDiscover = false;
</script>
<!-- Sweet alert -->
<script src="/js/plugins/sweetalert/sweetalert.min.js"></script>